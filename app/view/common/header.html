<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{:env('app_name')}</title>
    {include file="common/require"}
    <link rel="stylesheet" href="__STATIC__/css/header.css">
    <link rel="stylesheet" href="__STATIC__/css/msg.css">
    <link rel="stylesheet" href="__STATIC__/css/room.css">
    <style>
        /*.base-swiper-container {*/
        /*    height: calc(100% - 55px);*/
        /*}*/
        /*.room-swiper-slide {*/
        /*    overflow-y: auto;*/
        /*}*/
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: #fff;
            display: none;
        }

        #loading svg {
            width: 90%;
            height: 90%;
            visibility: hidden;
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            margin: 0 auto;
            transform: translateY(-50%);
        }
    </style>
    <script src="__STATIC__/libs/jq-paginator/jq-paginator.min.js"></script>
    <script src="__STATIC__/libs/tween-max/tween-max.min.js"></script>
</head>
<body>
<div id="header">
    <div class="wrap clearfix">
        <div class="header-left clearfix">
            <ul class="header-nav clearfix">
                <li class="header-nav-item header-nav-active" >
                    <a href="javascript:void(0)" data-index="0">消息列表</a>
                </li>
                <li class="header-nav-item" >
                    <a href="javascript:void(0)" data-index="1">好友</a>
                </li>
                <li class="header-nav-item">
                    <a href="javascript:void(0)" data-index="2">聊天室</a>
                </li>
            </ul>

            <div class="header-search clearfix">
                <input type="text" class="header-search-input" placeholder="搜索用户、聊天室">
                <a class="header-search-btn" href="">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </a>
            </div>
        </div>

        <div class="header-right clearfix">
            <div class="header-user">
                {eq name="isLogin" value="0"}
                <button class="header-user-login" onclick="authOpen()">登录/注册</button>
                {else/}
                <div class="header-user-info">
                    <a href="{:url('User/userInfo')}"><img class="header-user-face" src="{$userFace}"/></a>
                    <div class="header-user-control">
                        <a href="{:url('User/userInfo')}" class="header-user-control-item">
                            <i class="fa fa-user" aria-hidden="true"></i>
                            个人中心
                        </a>
                        <a href="{:url('User/outLogin')}?from={:request()->url(true)}" class="header-user-control-item">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            退出登录
                        </a>
                    </div>
                </div>

                {/eq}
            </div>
        </div>
    </div>
</div>
div#

<div id="loading">
    <svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <line class="mark" x1="0" y1="0" x2="0" y2="0" fill="none" stroke="#3580eb" stroke-miterlimit="10" stroke-linecap="none" stroke-width="12"/>
        </defs>
        <g class="container1"/>
        <g class="container2"/>
    </svg>
</div>

<script>
    // var getRoomListUrl = "{:url('Room/getRoomList')}";
    // var getRoomCateList = "{:url('Room/getRoomCateList')}";
    // var baseSwiper = new Swiper('.base-swiper-container', {
    //     freeModeMomentumBounce: false,
    //     autoHeight: true,
    //     observer: true,
    //     observeParents: true,
    //     onSlideChangeEnd: function(swiper){
    //         swiper.update();
    //     }
    // })
    // // setHeaderNav(2);
    //
    // $('#header .header-nav-item').click(function () {
    //     setHeaderNav($('a',this).attr('data-index'));
    // })
    // function setHeaderNav(index) {
    //     if (baseSwiper.activeIndex == index) {
    //         return;
    //     }
    //     $('#header .header-nav-item').removeClass('header-nav-active');
    //     $('#header .header-nav-item').eq(index).addClass('header-nav-active');
    //     baseSwiper.slideTo(index);
    // }
    function openLoading() {
        $('#loading').fadeIn(0);
        mainTl.play(0);
    }

    function closeLoading() {
        $('#loading').fadeOut();
        mainTl.pause(0);
    }

    $(document).pjax('a', '#pjax-container');
</script>
<script src="__STATIC__/js/header.js"></script>
<script src="__STATIC__/js/msg.js"></script>
<script src="__STATIC__/js/room.js"></script>
<script src="__STATIC__/js/loading.js"></script>
</body>
</html>